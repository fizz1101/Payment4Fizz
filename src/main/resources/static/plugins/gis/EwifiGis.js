!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.EwifiGis=e():t.EwifiGis=e()}(this,function(){return function(t){function e(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.toJson=function(t){var e={};for(var a in t)e[a.toUpperCase()]=t[a];return e},t.prototype.toUpperCase=function(t){if(t.length>=1){var e=[];for(var a in t)e.push(this.toJson(t[a]));this._tmpJson=e}else this._tmpJson=this.toJson(t);return this._tmpJson},t}();e.WordUpperCase=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.status=t,this.body=e}return t}();e.MyException=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getDiv=function(){return this._div},t.prototype.setDiv=function(t){this._div=t},t.prototype.getDivName=function(){return this._divName},t.prototype.setDivName=function(t){this._divName=t},t.prototype.getDivWidth=function(){return this._divWidth},t.prototype.setDivWidth=function(t){this._divWidth=t},t.prototype.getDivHeight=function(){return this._divHeight},t.prototype.setDivHeight=function(t){this._divHeight=t},t}();e.Init=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getInit=function(){return this._init},t.prototype.setInit=function(t){this._init=t},t.prototype.getMap=function(){return this._map},t.prototype.setMap=function(t){this._map=t},t.prototype.getPoint=function(){return this._point},t.prototype.setPoint=function(t){this._point=t},t.prototype.getLine=function(){return this._line},t.prototype.setLine=function(t){this._line=t},t.prototype.getPanels=function(){return this._panels},t.prototype.setPanels=function(t){this._panels=t},t.prototype.getHeatmap=function(){return this._heatmap},t.prototype.setHeatmap=function(t){this._heatmap=t},t}();e.Option=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getAnimation=function(){return this._animation},t.prototype.setAnimation=function(t){this._animation=t},t.prototype.getAnimeName=function(){return this._animeName},t.prototype.setAnimeName=function(t){this._animeName=t},t.prototype.getDura=function(){return this._dura},t.prototype.setDura=function(t){this._dura=t},t}();e.Animation=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(11),n=a(13),o=a(10),s=a(12),r=a(9),p=function(){function t(t){if(this.options=t,null!=this.options.getMap()){var e=new i.MapAction(t.getInit(),t.getMap());this.options.getMap().setHandle(e.loadSvgMap())}if(null!=this.options.getPoint()){var a=new n.PointAction(this.options.getPoint(),this.options.getMap().getHandle());t.setPoint(a.usePoint())}if(null!=this.options.getLine()){var p=new o.LineAction(this.options.getLine(),this.options.getMap().getHandle());t.setLine(p.marketLine())}if(null!=this.options.getPanels()){new s.PanelAction(this.options.getPanels(),this.options.getMap().getHandle()).marketPanel()}if(null!=this.options.getHeatmap()){var h=new r.HeatMapAction(this.options.getHeatmap(),this.options.getInit(),this.options.getMap().getHandle());t.setHeatmap(h.useHeatMap())}}return t}();e.EwifiAction=p},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),n=a(2),o=function(){function t(t){this._divName=t,this._init=new n.Init;try{var e=document.getElementById(t);if(null==e)throw new i.MyException(100,"EwifiGis Error:div is not found！");var a=$(e);if(0==a.height()||0==a.width())throw new i.MyException(101,"EwifiGis Error:div is not set height or width！");this._init.setDiv(a),this._init.setDivName(t),this._init.setDivHeight(a.height()),this._init.setDivWidth(a.width())}catch(t){null!=t.body&&console.error(t.body)}}return t.prototype.getInit=function(){return this._init},t}();e.InitModel=o},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),n=a(0),o=a(23),s=a(3),r=a(25),p=a(22),h=a(24),l=a(21),u=function(){function t(t){this._options=new s.Option,this._config=t,this._wordUpperCase=new n.WordUpperCase;try{if(!this._config.MAP)throw new i.MyException(102,"EwifiGis Error:option is not set map value！");var e=new o.MapModel(this._wordUpperCase.toUpperCase(this._config.MAP));if(this._options.setMap(e.getter()),this._config.POINT){for(var a=new r.PointModel,u=[],c=0,g=this._wordUpperCase.toUpperCase(this._config.POINT);c<g.length;c++){var f=g[c];u.push(a.checkPoint(f))}this._options.setPoint(u)}if(this._config.LINE){for(var d=new p.LineModel,_=[],m=0,M=this._wordUpperCase.toUpperCase(this._config.LINE);m<M.length;m++){var f=M[m];_.push(d.checkLine(f))}this._options.setLine(_)}if(this._config.PANEL){for(var v=new h.PanelModel,y=[],x=0,T=this._wordUpperCase.toUpperCase(this._config.PANEL);x<T.length;x++){var w=T[x];y.push(v.checkPanel(w))}this._options.setPanels(y)}if(this._config.HEATMAP){var H=new l.HeatMapModel,L=H.checkHeatMap(this._wordUpperCase.toUpperCase(this._config.HEATMAP));this._options.setHeatmap(L)}}catch(t){null!=t.body&&console.error(t.body)}}return t.prototype.getter=function(){return this._options},t}();e.OptionsModel=u},function(t,e,a){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});var n=a(6),o=a(3),s=a(7),r=a(0),p=a(2),h=a(5);void 0!==(i=function(t){var e=new o.Option,a=new p.Init;return function(){this.init=function(t){a=new n.InitModel(t).getInit()},this.setOption=function(t){var i=new r.WordUpperCase,n=new s.OptionsModel(i.toUpperCase(t));e=n.getter(),e.setInit(a),console.log(e)},this.execute=function(){new h.EwifiAction(e)},this.on=function(t,a,i,n){void 0!=i&&""!=i&&null!=i&&"undefined"!=i&&" "!=i||(i="click"),void 0!=n&&" "!=n&&null!=n&&"undefined"!=n&&" "!=n||(n=function(){if("none"==e.getPanels()[a].getHandel().attr("display"))if("CIRCLE"==e.getPanels()[a].getPanelStyle()){var t=e.getPanels()[a].getPanelData().length,i=2*Math.PI/t;d3.range(t).map(function(t){return{x:e.getPanels()[a].getLng()+e.getPanels()[a].getDistance()*Math.sin(i*t),y:e.getPanels()[a].getLag()+e.getPanels()[a].getDistance()*Math.cos(i*t)}});e.getPanels()[a].getHandel().attr("display","block");var n=e.getPanels()[a].getHandel().selectAll("g");n.transition().delay(function(t,e){return 100*e}).duration(300).ease("bounce").attr("transform",function(t,e){return console.log(t.x),"translate("+t.x+","+t.y+")"}).style("display","block")}else e.getPanels()[a].getHandel().attr("display","block");else if("CIRCLE"==e.getPanels()[a].getPanelStyle()){var o=e.getPanels()[a].getHandel().selectAll("g");o.transition().delay(function(t,e){return 100*e}).duration(200).ease("bounce").attr("transform",function(){return"translate("+e.getPanels()[a].getLng()+","+e.getPanels()[a].getLag()+")"}),e.getPanels()[a].getHandel().transition().delay(500).attr("display","none")}else e.getPanels()[a].getHandel().attr("display","none")}),e.getPoint()[t].getHandle().on(i,n)}}}.call(e,a,e,t))&&(t.exports=i)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var HeatMapView_1=__webpack_require__(28),HeatMapAction=function(){function HeatMapAction(t,e,a){this._heatMap=t,this._init=e,this._handel=a}return HeatMapAction.prototype.useHeatMap=function(){var heatMapView=new HeatMapView_1.HeatMapView;if("true"==this._heatMap.getIsHeatMap()&&"[]"!=JSON.stringify(this._heatMap.getHeatMapData())){this._init.getDiv().append("<div id='heatmap_showHide'><input type='button' id='heatmap_Show' class='butHm' value='显示热力图' /><input type='button' id='heatmap_hmHide' class='butHm' value='关闭热力图' /></div>");var conWid=parseInt(this._init.getDiv().css("width"))-190,conHei=parseInt(this._init.getDiv().css("height"))-50;if($("#heatmap_showHide").css({left:conWid,top:conHei}),null!=this._heatMap.getHeatMapInterVal())if(null!=this._heatMap.getTimeLine()){if(null!=this._heatMap.getTimeLine().getTimes()&&this._heatMap.getTimeLine().getTimes().length>0){heatMapView.heatMapTimeLine(this._heatMap,this._init);for(var heatTimeDatas=heatMapView.useAnalysisData(this._heatMap),gradesTime={},i=0;i<this._heatMap.getTimeLine().getTimes().length;i++){var useTwoGra=heatMapView.useTwoGrade(this._heatMap,heatTimeDatas[this._heatMap.getTimeLine().getTimes()[i]]);gradesTime[this._heatMap.getTimeLine().getTimes()[i]]=useTwoGra}this._init.getDiv().append("<div id='heatmap_floatBox'></div>"),$("#heatmap_floatBox").css({position:"absolute",left:this._heatMap.getHeatBoxLeft()+"px",top:this._heatMap.getHeatBoxTop()+"px"}),this._init.getDiv().append("<div id='heatMap_legends'>"),$("#heatMap_legends").css({position:"absolute",left:this._heatMap.getLeft()+"px",top:this._heatMap.getTop()+"px",background:"rgba(243,243,243,0.1)"});for(var i=0;i<this._heatMap.getTimeLine().getTimes().length;i++)heatMapView.HeatMap(heatTimeDatas[this._heatMap.getTimeLine().getTimes()[i]],this._handel),"true"==this._heatMap.getIsHeatMapPanel()&&heatMapView.heatMapPanel(this._heatMap,heatTimeDatas[this._heatMap.getTimeLine().getTimes()[i]],this._init,gradesTime[this._heatMap.getTimeLine().getTimes()[i]],i),"true"==this._heatMap.getShow()&&heatMapView.heatMapLegend(heatTimeDatas[this._heatMap.getTimeLine().getTimes()[i]],this._init);for(var i=0;i<$(".heatBox").length;i++){var numChild=$("#heat_ul_"+i).children().length;numChild>1&&numChild<3&&$(".heatBox").eq(i).css("height","201px"),numChild>0&&numChild<2&&$(".heatBox").eq(i).css("height","107px")}heatMapView.setTimeAuto(this._heatMap)}$("#heatmap_Show").click(function(){$("#heatmap_floatBox").show(),$("#heatMap_legends").show(),$("#heat_timeline").show()}),$("#heatmap_hmHide").click(function(){$(".heatmap-canvas").hide(),$("#heatmap_floatBox").hide(),$("#heatMap_legends").hide(),$("#heat_timeline").hide()})}else{var useGrade=heatMapView.useGrade(this._heatMap);if(heatMapView.drawHeatMap(this._heatMap,useGrade,this._handel),$(".heatmap-canvas").css("display","block"),"true"==this._heatMap.getIsHeatMapPanel()&&heatMapView.heatPanelTwo(this._heatMap,this._init,useGrade),"true"==this._heatMap.getShow()){this._init.getDiv().append("<div id='heatMap_legends'>"),$("#heatMap_legends").css({position:"absolute",left:this._heatMap.getLeft()+"px",top:this._heatMap.getTop()+"px",background:"rgba(243,243,243,0.1)"});var heatDatas=eval("("+JSON.stringify(this._heatMap.getHeatMapData())+")");heatMapView.heatMapLegend(heatDatas,this._init),$(".legendSvg").css("display","block")}var numChild=$("#heat_ulId_mid").children().length;numChild>1&&numChild<3&&$("#heatmap_floatBox").css("height","201px"),numChild>0&&numChild<2&&$("#heatmap_floatBox").css("height","107px"),$("#heatmap_Show").click(function(){$(".heatmap-canvas").show(),$("#heatmap_floatBox").show(),$("#heatMap_legends").show(),$("#heat_timeline").show()}),$("#heatmap_hmHide").click(function(){$(".heatmap-canvas").hide(),$("#heatmap_floatBox").hide(),$("#heatMap_legends").hide(),$("#heat_timeline").hide()})}else if(null!=this._heatMap.getTimeLine()){if(null!=this._heatMap.getTimeLine().getTimes()&&this._heatMap.getTimeLine().getTimes().length>0){heatMapView.heatMapTimeLine(this._heatMap,this._init);for(var heatTimeDatas=heatMapView.analysisHeatMap(this._heatMap),gradesData={},i=0;i<this._heatMap.getTimeLine().getTimes().length;i++){var defaultGrade=heatMapView.defaultGrade(heatTimeDatas[this._heatMap.getTimeLine().getTimes()[i]]);gradesData[this._heatMap.getTimeLine().getTimes()[i]]=defaultGrade}this._init.getDiv().append("<div id='heatmap_floatBox'></div>"),$("#heatmap_floatBox").css({position:"absolute",left:this._heatMap.getHeatBoxLeft()+"px",top:this._heatMap.getHeatBoxTop()+"px"}),this._init.getDiv().append("<div id='heatMap_legends'>"),$("#heatMap_legends").css({position:"absolute",left:this._heatMap.getLeft()+"px",top:this._heatMap.getTop()+"px",background:"rgba(243,243,243,0.1)"});for(var i=0;i<this._heatMap.getTimeLine().getTimes().length;i++)heatMapView.HeatMap(heatTimeDatas[this._heatMap.getTimeLine().getTimes()[i]],this._handel),"true"==this._heatMap.getIsHeatMapPanel()&&heatMapView.heatMapPanel(this._heatMap,heatTimeDatas[this._heatMap.getTimeLine().getTimes()[i]],this._init,gradesData[this._heatMap.getTimeLine().getTimes()[i]],i),"true"==this._heatMap.getShow()&&heatMapView.heatMapLegend(heatTimeDatas[this._heatMap.getTimeLine().getTimes()[i]],this._init);for(var i=0;i<$(".heatBox").length;i++){var numChild=$("#heat_ul_"+i).children().length;numChild>1&&numChild<3&&$(".heatBox").eq(i).css("height","201px"),numChild>0&&numChild<2&&$(".heatBox").eq(i).css("height","107px")}heatMapView.setTimeAuto(this._heatMap)}$("#heatmap_Show").click(function(){$("#heatmap_floatBox").show(),$("#heatMap_legends").show(),$("#heat_timeline").show()}),$("#heatmap_hmHide").click(function(){$(".heatmap-canvas").hide(),$("#heatmap_floatBox").hide(),$("#heatMap_legends").hide(),$("#heat_timeline").hide()})}else{var defaultGrade=heatMapView.defaultTwo(this._heatMap);if(heatMapView.drawHeatMap(this._heatMap,defaultGrade,this._handel),$(".heatmap-canvas").css("display","block"),"true"==this._heatMap.getIsHeatMapPanel()&&heatMapView.heatPanelTwo(this._heatMap,this._init,defaultGrade),$(".heat_ulId").css("display","block"),"true"==this._heatMap.getShow()){this._init.getDiv().append("<div id='heatMap_legends'>"),$("#heatMap_legends").css({position:"absolute",left:this._heatMap.getLeft()+"px",top:this._heatMap.getTop()+"px",background:"rgba(243,243,243,0.1)"});var heatDatas=eval("("+JSON.stringify(this._heatMap.getHeatMapData())+")");heatMapView.heatMapLegend(heatDatas,this._init),$(".legendSvg").css("display","block")}var numChild=$("#heat_ulId_mid").children().length;numChild>1&&numChild<3&&$("#heatmap_floatBox").css("height","201px"),numChild>0&&numChild<2&&$("#heatmap_floatBox").css("height","107px"),$("#heatmap_Show").click(function(){$(".heatmap-canvas").show(),$("#heatmap_floatBox").show(),$("#heatMap_legends").show(),$("#heat_timeline").show()}),$("#heatmap_hmHide").click(function(){$(".heatmap-canvas").hide(),$("#heatmap_floatBox").hide(),$("#heatMap_legends").hide(),$("#heat_timeline").hide()})}heatMapView.heatMapDrag()}return this._heatMap},HeatMapAction}();exports.HeatMapAction=HeatMapAction},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(29),n=a(26),o=function(){function t(t,e){this._lineView=new i.LineView,this._line=t,this._handel=e}return t.prototype.marketLine=function(){for(var t=0,e=this._line;t<e.length;t++){var a=e[t],i=this._lineView.buildStyle(a),o=this._lineView.buildAttr(a),s=this._handel.select("#drags").append("path"),r=s.data([a.getLineData()]).attr("d",o).style(i);if(a.setHandle(r),null!=a.getAmine()&&"true"==a.getAmine().getAnimation()){var p=new n.LineAnimeView;switch(a.getAmine().getAnimeName()){case"moveCircle":p.moveCircle(s,a,this._handel);break;case"linearLine":p.linearLine(s,a.getAmine().getDura())}}}return this._line},t}();e.LineAction=o},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(30),n=function(){function t(t,e){this._map=e,this._init=t}return t.prototype.loadSvgMap=function(){var t=new i.MapView(this._init,this._map);this._init.getDiv().css({overflow:"hidden"}),this._init.getDiv().append("<div id='map_container'></div>"),this._init.getDiv().children("#map_container").append(window[this._map.getMapName().toString()]);var e=$("svg").css("width"),a=$("svg").css("height");this._init.getDiv().children("#map_container").css({width:e,height:a}),t.setMapCenter();var n=t.setDefaultPoint();return"true"==this._map.getIsZoom()?t.CustomZooms():"true"===this._map.getIsDrag()&&t.CustomDrag(),n},t}();e.MapAction=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(32),n=a(31),o=function(){function t(t,e){this._panels=t,this._handel=e}return t.prototype.marketPanel=function(){for(var t=0,e=this._panels;t<e.length;t++){var a=e[t],o=this._handel.select("#drags").append("g");switch(a.getPanelStyle()){case"SECTOR":o.attr("transform","translate("+a.getLng()+","+a.getLag()+")"),o.attr("display",a.getDisplay());new i.SectorPanelView(o,a);a.setHandel(o);break;case"CIRCLE":o.attr("display",a.getDisplay());new n.CirclePanelView(o,a);a.setHandel(o)}}},t}();e.PanelAction=o},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(33),n=a(27),o=function(){function t(t,e){this._pointView=new i.PointView,this._point=t,this._handel=e}return t.prototype.usePoint=function(){for(var t=0,e=this._point;t<e.length;t++){var a=e[t],i=this._pointView.CustomPointStyleBuild(a),o=this._handel.select("#drags").append("use").attr(i);if(a.setHandle(o),null!=a.getAmine()&&"true"==a.getAmine().getAnimation()){(new n.PointAnimeView).bouncePoint(a)}}return this._point},t}();e.PointAction=o},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getHandle=function(){return this._handle},t.prototype.setHandle=function(t){this._handle=t},t.prototype.getIsHeatMap=function(){return this._isHeatMap},t.prototype.setIsHeatMap=function(t){this._isHeatMap=t},t.prototype.getHeatMapData=function(){return this._heatMapData},t.prototype.setHeatMapData=function(t){this._heatMapData=t},t.prototype.getShow=function(){return this._show},t.prototype.setShow=function(t){this._show=t},t.prototype.getLeft=function(){return this._left},t.prototype.setLeft=function(t){this._left=t},t.prototype.getTop=function(){return this._top},t.prototype.setTop=function(t){this._top=t},t.prototype.getHeatBoxLeft=function(){return this._heatBoxLeft},t.prototype.setHeatBoxLeft=function(t){this._heatBoxLeft=t},t.prototype.getHeatBoxTop=function(){return this._heatBoxTop},t.prototype.setHeatBoxTop=function(t){this._heatBoxTop=t},t.prototype.getIsHeatMapPanel=function(){return this._isHeatMapPanel},t.prototype.setIsHeatMapPanel=function(t){this._isHeatMapPanel=t},t.prototype.getHeatMpaPanelType=function(){return this._heatMpaPanelType},t.prototype.setHeatMpaPanelType=function(t){this._heatMpaPanelType=t},t.prototype.getHeatMapInterVal=function(){return this._heatMapInterVal},t.prototype.setHeatMapInterVal=function(t){this._heatMapInterVal=t},t.prototype.getTimeLine=function(){return this._timeLine},t.prototype.setTimeLine=function(t){this._timeLine=t},t}();e.HeatMap=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getX=function(){return this._x},t.prototype.setX=function(t){this._x=t},t.prototype.getY=function(){return this._y},t.prototype.setY=function(t){this._y=t},t.prototype.getValue=function(){return this._value},t.prototype.setValue=function(t){this._value=t},t.prototype.getName=function(){return this._name},t.prototype.setName=function(t){this._name=t},t.prototype.getImages=function(){return this._images},t.prototype.setImages=function(t){this._images=t},t.prototype.getHeatTime=function(){return this._heatTime},t.prototype.setHeatTime=function(t){this._heatTime=t},t}();e.HeatMapData=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getHandle=function(){return this._handle},t.prototype.setHandle=function(t){this._handle=t},t.prototype.getId=function(){return this._id},t.prototype.setId=function(t){this._id=t},t.prototype.getStroke=function(){return this._stroke},t.prototype.setStroke=function(t){this._stroke=t},t.prototype.getStrokeWidth=function(){return this._strokeWidth},t.prototype.setStrokeWidth=function(t){this._strokeWidth=t},t.prototype.getLineData=function(){return this._lineData},t.prototype.setLineData=function(t){this._lineData=t},t.prototype.getIsCurve=function(){return this._isCurve},t.prototype.setIsCurve=function(t){this._isCurve=t},t.prototype.getAmine=function(){return this._amine},t.prototype.setAmine=function(t){this._amine=t},t.prototype.getR=function(){return this._r},t.prototype.setR=function(t){this._r=t},t.prototype.getAnimFill=function(){return this._animFill},t.prototype.setAnimFill=function(t){this._animFill=t},t.prototype.getAnimFillOpacity=function(){return this._animFillOpacity},t.prototype.setAnimFillOpacity=function(t){this._animFillOpacity=t},t.prototype.getAnimStroke=function(){return this._animStroke},t.prototype.setAnimStroke=function(t){this._animStroke=t},t.prototype.getAnimStrokeWidth=function(){return this._animStrokeWidth},t.prototype.setAnimStrokeWidth=function(t){this._animStrokeWidth=t},t.prototype.getCircleAnim=function(){return this._circleAnim},t.prototype.setCircleAnim=function(t){this._circleAnim=t},t}();e.Line=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getMapName=function(){return this._mapName},t.prototype.setMapName=function(t){this._mapName=t},t.prototype.getMapType=function(){return this._mapType},t.prototype.setMapType=function(t){this._mapType=t},t.prototype.getIsDrag=function(){return this._isDrag},t.prototype.setIsDrag=function(t){this._isDrag=t},t.prototype.getIsZoom=function(){return this._isZoom},t.prototype.setIsZoom=function(t){this._isZoom=t},t.prototype.getCentosLng=function(){return this._centosLng},t.prototype.setCentosLng=function(t){this._centosLng=t},t.prototype.getCentosLat=function(){return this._centosLat},t.prototype.setCentosLat=function(t){this._centosLat=t},t.prototype.getHandle=function(){return this._handle},t.prototype.setHandle=function(t){this._handle=t},t}();e.Map=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getLng=function(){return this._lng},t.prototype.setLng=function(t){this._lng=t},t.prototype.getLag=function(){return this._lag},t.prototype.setLag=function(t){this._lag=t},t.prototype.getHandel=function(){return this._handel},t.prototype.setHandel=function(t){this._handel=t},t.prototype.getPanelData=function(){return this._panelData},t.prototype.setPanelData=function(t){this._panelData=t},t.prototype.getOuterRadius=function(){return this._outerRadius},t.prototype.setOuterRadius=function(t){this._outerRadius=t},t.prototype.getInnerRadius=function(){return this._innerRadius},t.prototype.setInnerRadius=function(t){this._innerRadius=t},t.prototype.getPanelStyle=function(){return this._panelStyle},t.prototype.setPanelStyle=function(t){this._panelStyle=t},t.prototype.getPanelFill=function(){return this._panelFill},t.prototype.setPanelFill=function(t){this._panelFill=t},t.prototype.getFontSize=function(){return this._fontSize},t.prototype.setFontSize=function(t){this._fontSize=t},t.prototype.getFontFamily=function(){return this._fontFamily},t.prototype.setFontFamily=function(t){this._fontFamily=t},t.prototype.getTextAnchor=function(){return this._textAnchor},t.prototype.setTextAnchor=function(t){this._textAnchor=t},t.prototype.getFontWeight=function(){return this._fontWeight},t.prototype.setFontWeight=function(t){this._fontWeight=t},t.prototype.getFontColor=function(){return this._fontColor},t.prototype.setFontColor=function(t){this._fontColor=t},t.prototype.getDisplay=function(){return this._display},t.prototype.setDisplay=function(t){this._display=t},t.prototype.getCircleR=function(){return this._circleR},t.prototype.setCircleR=function(t){this._circleR=t},t.prototype.getDistance=function(){return this._distance},t.prototype.setDistance=function(t){this._distance=t},t}();e.Panel=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getHandle=function(){return this._handle},t.prototype.setHandle=function(t){this._handle=t},t.prototype.getLng=function(){return this._lng},t.prototype.setLng=function(t){this._lng=t},t.prototype.getLat=function(){return this._lat},t.prototype.setLat=function(t){this._lat=t},t.prototype.getWidth=function(){return this._width},t.prototype.setWidth=function(t){this._width=t},t.prototype.getHeight=function(){return this._height},t.prototype.setHeight=function(t){this._height=t},t.prototype.getOpacity=function(){return this._opacity},t.prototype.setOpacity=function(t){this._opacity=t},t.prototype.getFill=function(){return this._fill},t.prototype.setFill=function(t){this._fill=t},t.prototype.getLeft=function(){return this._left},t.prototype.setLeft=function(t){this._left=t},t.prototype.getTop=function(){return this._top},t.prototype.setTop=function(t){this._top=t},t.prototype.getPointPath=function(){return this._pointPath},t.prototype.setPointPath=function(t){this._pointPath=t},t.prototype.getId=function(){return this._id},t.prototype.setId=function(t){this._id=t},t.prototype.getAmine=function(){return this._amine},t.prototype.setAmine=function(t){this._amine=t},t}();e.Point=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getAutoPlay=function(){return this._autoPlay},t.prototype.setAutoPlay=function(t){this._autoPlay=t},t.prototype.getAttoPlaySpace=function(){return this._attoPlaySpace},t.prototype.setAttoPlaySpace=function(t){this._attoPlaySpace=t},t.prototype.getTimes=function(){return this._times},t.prototype.setTimes=function(t){this._times=t},t}();e.TimeLine=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),n=a(14),o=a(0),s=a(15),r=a(20),p=function(){function t(){}return t.prototype.checkHeatMap=function(t){this._config=t;var e=new n.HeatMap,a=new o.WordUpperCase;try{if(this._config.HEATMAPDATA){if(!(this._config.HEATMAPDATA.length>0))throw new i.MyException(111,"EwifiGis Error:HeatMap data is null！");for(var s=[],r=a.toUpperCase(this._config.HEATMAPDATA),p=0,h=r;p<h.length;p++){var l=h[p];s.push(this.checkHtd(l))}return e.setHeatMapData(s),this._config.ISHEATMAP?e.setIsHeatMap(this._config.ISHEATMAP):e.setIsHeatMap("false"),this._config.LEGEND?this.checkLegend(a.toUpperCase(this._config.LEGEND),e):this.checkLgd(e),this._config.ISHEATMAPPANEL?e.setIsHeatMapPanel(this._config.ISHEATMAPPANEL):e.setIsHeatMapPanel("false"),this._config.HEATBOXLEFT&&e.setHeatBoxLeft(this._config.HEATBOXLEFT),this._config.HEATBOXTOP&&e.setHeatBoxTop(this._config.HEATBOXTOP),this._config.HEATMPAPANELTYPE?e.setHeatMpaPanelType(this._config.HEATMPAPANELTYPE):e.setHeatMpaPanelType("Histogram"),this._config.HEATMAPINTERVAL&&e.setHeatMapInterVal(this._config.HEATMAPINTERVAL),this._config.TIMELINE&&this.checkTimeLine(a.toUpperCase(this._config.TIMELINE),e),e}throw new i.MyException(110,"EwifiGis Error:HeatMap is not set value！")}catch(t){null!=t.body&&console.error(t.body)}},t.prototype.checkHtd=function(t){var e=new s.HeatMapData;return t.X&&e.setX(t.X),t.Y&&e.setY(t.Y),t.VALUE&&e.setValue(t.VALUE),t.NAME&&e.setName(t.NAME),t.IMAGES&&e.setImages(t.IMAGES),t.HEATTIME&&e.setHeatTime(t.HEATTIME),e},t.prototype.checkLegend=function(t,e){t.SHOW?e.setShow(t.SHOW):e.setShow("true"),t.LEFT?e.setLeft(t.LEFT):e.setLeft("50"),t.TOP?e.setTop(t.TOP):e.setTop("50")},t.prototype.checkLgd=function(t){t.setShow("true"),t.setLeft("50"),t.setTop("50")},t.prototype.checkTimeLine=function(t,e){var a=new r.TimeLine;t.AUTOPLAY?a.setAutoPlay(t.AUTOPLAY):a.setAutoPlay("true"),t.AUTOPLAYSPACE?a.setAttoPlaySpace(t.AUTOPLAYSPACE):a.setAttoPlaySpace(3e3),t.TIMES&&a.setTimes(t.TIMES),e.setTimeLine(a)},t}();e.HeatMapModel=p},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(16),n=a(1),o=a(0),s=a(4),r=function(){function t(){}return t.prototype.checkLine=function(t){this._config=t;var e=new i.Line,a=new o.WordUpperCase;try{if(this._config.LINEDATA){if(e.setLineData(this._config.LINEDATA),0==e.getLineData().length)throw new n.MyException(111,"EwifiGis Error:Line data is null！");return this._config.ID&&e.setId(this._config.ID),this._config.STYLE&&this.checkLineStyle(a.toUpperCase(this._config.STYLE),e),this._config.ANIMATION&&this.checkAnime(a.toUpperCase(this._config.ANIMATION),e),e}throw new n.MyException(110,"EwifiGis Error:Line is not set value！")}catch(t){null!=t.body&&console.error(t.body)}},t.prototype.checkAnime=function(t,e){var a=new s.Animation;new o.WordUpperCase;t.ANIMATION&&("true"==t.ANIMATION&&(a.setAnimation(t.ANIMATION),t.ANIMENAME?a.setAnimeName(t.ANIMENAME):a.setAnimeName("moveCircle"),t.DURA?a.setDura(t.DURA):a.setDura(2e3),t.R?e.setR(t.R):e.setR(2),t.ANIMFILL?e.setAnimFill(t.ANIMFILL):e.setAnimFill("steelblue"),t.ANIMFILLOPACITY?e.setAnimFillOpacity(t.ANIMFILLOPACITY):e.setAnimFillOpacity(1),t.ANIMSTROKE?e.setAnimStroke(t.ANIMSTROKE):e.setAnimStroke("#fff"),t.ANIMSTROKEWIDTH?e.setAnimStrokeWidth(t.ANIMSTROKEWIDTH):e.setAnimStrokeWidth(1),t.CIRCLEANIM?e.setCircleAnim(t.CIRCLEANIM):e.setCircleAnim("linear")),e.setAmine(a))},t.prototype.checkLineStyle=function(t,e){t.STROKE?e.setStroke(t.STROKE):e.setStroke("blue"),t.STROKEWIDTH?e.setStrokeWidth(t.STROKEWIDTH):e.setStrokeWidth(3),t.ISCURVE?e.setIsCurve(t.ISCURVE):e.setIsCurve("true")},t}();e.LineModel=r},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(17),n=function(){function t(t){if(this._map=new i.Map,this._config=t,t.MAPTYPE&&this._map.setMapType(t.MAPTYPE.toLocaleLowerCase()),t.MAPNAME&&this._map.setMapName(t.MAPNAME),t.CENTOSLAT&&t.CENTOSLNG)this._map.setCentosLat(t.CENTOSLAT),this._map.setCentosLng(t.CENTOSLNG);else{var e=window[t.MAPNAME+"Data"];this._map.setCentosLng(e.width/2),this._map.setCentosLat(e.height/2)}t.ISZOOM&&"true"===t.ISZOOM.toLocaleLowerCase()?(this._map.setIsZoom("true"),this._map.setIsDrag("true")):(this._map.setIsZoom("false"),this._map.setIsDrag(this.determineIsDrag(t.ISDRAG)))}return t.prototype.determineIsDrag=function(t){return t||"false"},t.prototype.getter=function(){return this._map},t}();e.MapModel=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(18),n=a(1),o=a(0),s=function(){function t(){}return t.prototype.checkPanel=function(t){var e=new i.Panel;try{if(!t.PANELDATA)throw new n.MyException(112,"EwifiGis Error:panel is not set value！");if(!(t.PANELDATA.length<=5&&0!=t.PANELDATA.length))throw new n.MyException(114,"EwifiGis Error:panel value to more！");if(e.setPanelData(t.PANELDATA),t.LAT&&t.LNG)e.setLag(Number(t.LAT)),e.setLng(Number(t.LNG));else if(!t.BIND)throw new n.MyException(115,"EwifiGis Error:panel is not set lat or lng！");if(t.PANELSTYLE?e.setPanelStyle(t.PANELSTYLE.toUpperCase()):e.setPanelStyle("SECTOR"),"SECTOR"!=e.getPanelStyle()&&"CIRCLE"!=e.getPanelStyle())throw new n.MyException(113,"EwifiGis Error:panel style is error！");if(t.STYLE){var a=new o.WordUpperCase;this.checkPanelStyle(a.toUpperCase(t.STYLE),e)}return e}catch(t){null!=t.body&&console.error(t.body)}},t.prototype.checkPanelStyle=function(t,e){t.INNERRADIUS?e.setInnerRadius(t.INNERRADIUS):e.setInnerRadius(50),t.OUTERRADIUS?e.setOuterRadius(t.OUTERRADIUS):e.setOuterRadius(100),t.PANELFILL?e.setPanelFill(t.PANELFILL):e.setPanelFill(["red","blue","black","orange","green"]),t.FONTCOLOR?e.setFontColor(t.FONTCOLOR):e.setFontColor("#fff"),t.FONTSIZE?e.setFontSize(t.FONTSIZE):e.setFontSize(10),t.FONTFAMILY?e.setFontFamily(t.FONTFAMILY):e.setFontFamily("微软雅黑"),t.TEXTANCHOR?e.setTextAnchor(t.TEXTANCHOR):e.setTextAnchor("middle"),t.FONTWEIGHT?e.setFontWeight(t.FONTWEIGHT):e.setFontWeight("normal"),t.DISPLAY?e.setDisplay(t.DISPLAY):e.setDisplay("block"),t.DISTANCE?e.setDistance(t.DISTANCE):e.setDistance(30),t.CIRCLER?e.setCircleR(t.CIRCLER):e.setCircleR(50)},t}();e.PanelModel=s},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),n=a(19),o=a(0),s=a(4),r=function(){function t(){}return t.prototype.checkPoint=function(t){this._config=t;var e=new n.Point,a=new o.WordUpperCase;try{if(this._config.LNG||this._config.LAT)return e.setLng(this._config.LNG),e.setLat(this._config.LAT),this._config.ID&&e.setId(this._config.ID),this._config.STYLE&&this.checkStyle(a.toUpperCase(this._config.STYLE),e),this._config.ANIMATION&&this.checkAnime(a.toUpperCase(this._config.ANIMATION),e),e;throw new i.MyException(107,"EwifiGis Error:point LNG or LAT is not set value！")}catch(t){null!=t.body&&console.error(t.body)}},t.prototype.checkAnime=function(t,e){var a=new s.Animation;t.ANIMATION&&("true"==t.ANIMATION&&(a.setAnimation(t.ANIMATION),t.ANIMENAME?a.setAnimeName(t.ANIMENAME):a.setAnimeName("default"),t.DURA?a.setDura(t.DURA):a.setDura(0)),e.setAmine(a))},t.prototype.checkStyle=function(t,e){t.POINTPATH?e.setPointPath(t.POINTPATH):e.setPointPath("#defaultPoint"),t.WIDTH?e.setWidth(t.WIDTH):e.setWidth(30),t.HEIGHT?e.setHeight(t.HEIGHT):e.setHeight(30),t.OPACITY?e.setOpacity(t.OPACITY):e.setOpacity(1),t.FILL&&e.setFill(t.FILL),t.LEFT?e.setLeft(t.LEFT):e.setLeft(0),t.TOP?e.setTop(t.TOP):e.setTop(0)},t}();e.PointModel=r},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.moveCircle=function(t,e,a){function i(){s.transition().duration(e.getAmine().getDura()).ease(e.getCircleAnim()).attrTween("transform",n(t.node())).each("end",i)}function n(t){var e=t.getTotalLength();return function(a,i,n){return function(a){var i=t.getPointAtLength(a*e);return"translate("+i.x+","+i.y+")"}}}var o=a.select("#drags"),s=o.append("circle").attr("r",e.getR()).attr("fill",e.getAnimFill()).attr("fill-opacity",e.getAnimFillOpacity()).attr("stroke",e.getAnimStroke()).attr("stroke-width",e.getAnimStrokeWidth()).attr("transform","translate("+e.getLineData()[0]+")");i()},t.prototype.linearLine=function(t,e){var a=t.node().getTotalLength();t.attr("stroke-dasharray",a+" "+a).attr("stroke-dashoffset",a).transition().duration(e).ease("linear").attr("stroke-dashoffset",0)},t}();e.LineAnimeView=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.bouncePoint=function(t){function e(){t.getHandle().attr("transform",i).transition().duration(2e3).ease("linear").attr("transform",n).transition().duration(2e3).ease("linear").attr("transform",i).each("end",e)}var a=t.getHandle().attr("transform").replace("translate(","").replace(")","").split(",");a[0]=Number(a[0]),a[1]=Number(a[1])-15;var i="translate("+a[0]+","+a[1]+")",n="translate("+a[0]+","+(a[1]+15)+")";0==t.getAmine().getDura()?e():t.getHandle().attr("transform",i).transition().duration(t.getAmine().getDura()).ease(t.getAmine().getAnimeName()).attr("transform",n)},t}();e.PointAnimeView=i},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var HeatMapView=function(){function HeatMapView(){}return HeatMapView.prototype.analysisHeatMap=function(t){var e=[];for(var a in t.getHeatMapData())e.push(t.getHeatMapData()[a].getHeatTime());for(var i={},a=0;a<t.getTimeLine().getTimes().length;a++)for(var n=[],o=0;o<e.length;o++)t.getTimeLine().getTimes()[a]==e[o]&&(n.push(t.getHeatMapData()[o]),i[t.getTimeLine().getTimes()[a]]=n);for(var s={},a=0;a<t.getTimeLine().getTimes().length;a++){var r=this.defaultGrade(i[t.getTimeLine().getTimes()[a]]);s[t.getTimeLine().getTimes()[a]]=r}for(var a=0;a<t.getTimeLine().getTimes().length;a++)for(var o=0;o<i[t.getTimeLine().getTimes()[a]].length;o++)i[t.getTimeLine().getTimes()[a]][o].x=i[t.getTimeLine().getTimes()[a]][o]._x,i[t.getTimeLine().getTimes()[a]][o].y=i[t.getTimeLine().getTimes()[a]][o]._y,i[t.getTimeLine().getTimes()[a]][o].value=s[t.getTimeLine().getTimes()[a]][o];return i},HeatMapView.prototype.useAnalysisData=function(t){var e=[];for(var a in t.getHeatMapData())e.push(t.getHeatMapData()[a].getHeatTime());for(var i={},a=0;a<t.getTimeLine().getTimes().length;a++)for(var n=[],o=0;o<e.length;o++)t.getTimeLine().getTimes()[a]==e[o]&&(n.push(t.getHeatMapData()[o]),i[t.getTimeLine().getTimes()[a]]=n);for(var s={},a=0;a<t.getTimeLine().getTimes().length;a++){var r=this.useTwoGrade(t,i[t.getTimeLine().getTimes()[a]]);s[t.getTimeLine().getTimes()[a]]=r}for(var a=0;a<t.getTimeLine().getTimes().length;a++)for(var o=0;o<i[t.getTimeLine().getTimes()[a]].length;o++)i[t.getTimeLine().getTimes()[a]][o].x=i[t.getTimeLine().getTimes()[a]][o]._x,i[t.getTimeLine().getTimes()[a]][o].y=i[t.getTimeLine().getTimes()[a]][o]._y,i[t.getTimeLine().getTimes()[a]][o].value=s[t.getTimeLine().getTimes()[a]][o];return i},HeatMapView.prototype.HeatMap=function(t,e){h337.create({container:document.getElementById("map_container")}).setData({max:10,data:t});var a=e.attr("viewBox").split(" ");$(".heatmap-canvas").css({left:-a[0]+"px",top:-a[1]+"px"})},HeatMapView.prototype.drawHeatMap=function(t,e,a){for(var i=h337.create({container:document.getElementById("map_container")}),n=[],o=0;o<e.length;o++){var s={};s.x=t.getHeatMapData()[o].getX(),s.y=t.getHeatMapData()[o].getY(),s.value=e[o],n.push(s)}i.setData({max:10,data:n});var r=a.attr("viewBox").split(" ");$(".heatmap-canvas").css({left:-r[0]+"px",top:-r[1]+"px"})},HeatMapView.prototype.heatMapDrag=function(){function t(t){i=!0;var e=$(".heatmap-canvas");if(e){var a=parseInt(e.css("left")),h=parseInt(e.css("top")),l=t.clientX,u=t.clientY;n=l-a,o=u-h}if(s=!0,document.getElementById("zooms")){var c=$("#zooms").attr("transform").replace(/[^0-9\-,]/g,"").split(","),g=parseInt(c[0]),f=parseInt(c[1]),d=t.clientX,_=t.clientY;r=d-g,p=_-f}}function e(t){i=!1,s=!1}function a(t){var e=$(".heatmap-canvas"),a=t.clientX,h=t.clientY;if(i&&e){var l=a-n,u=h-o;$(".heatmap-canvas").css("left",l),$(".heatmap-canvas").css("top",u)}var c=(document.getElementById("zooms"),$("#zooms").attr("transform").replace(/[^0-9\-,]/g,"").split(",")),g=parseInt(c[0]),f=parseInt(c[1]),d=t.clientX,_=t.clientY;if(s){document.getElementById("zooms")&&(g=d-r,f=_-p,c[0]=g.toString(),c[1]=f.toString(),$("#zooms").attr("transform","translate("+c[0]+","+c[1]+")"))}}!function(){var i=$(".heatmap-canvas");i&&(i.on("mousedown",t),i.on("mouseup",e),i.on("mousemove",a));var n=document.getElementById("zooms");n&&(n.addEventListener("mousedown",t,!1),n.addEventListener("mouseup",e,!1),n.addEventListener("mousemove",a,!1))}();var i=!1,n=0,o=0,s=!1,r=0,p=0},HeatMapView.prototype.heatMapPanel=function(t,e,a,i,n){$("#heatmap_floatBox").append("<div id='heat_hei_"+n+"' class='heatBox'><ul id='heat_ul_"+n+"' class='heat_ulId'></ul></div>");var o=e.length;o<5?$("#heat_hei_"+n).css("height",100*o):$("#heat_hei_"+n).css("height","500px"),this.heatMapPanelDrags();var s=[];for(var r in e)s.push(Number(e[r]._value));for(var p=0;p<s.length;p++)for(var h=p+1;h<s.length;h++){var l=void 0,u=void 0,c=void 0;s[p]<s[h]&&(l=s[p],u=e[p],c=i[p],s[p]=s[h],e[p]=e[h],i[p]=i[h],s[h]=l,e[h]=u,i[h]=c)}switch(t.getHeatMpaPanelType()){case"Histogram":if(i.length<=5)for(var r=0;r<i.length;r++)$("#heat_ul_"+n).append("<li><div class='histogram'><p class='heatMap_names'>"+(r+1)+"、"+e[r]._name+"</p><progress value='"+i[r]+"' max='10' style='float: left'></progress><div class='heat_fontSizes' title='"+e[r]._value+"' >当前:"+e[r]._value+"</div></div><div class='heatMap_images' id='heat_img_"+r+"'><img src='"+e[r]._images+"' /></div><hr /></li>");else for(var r=0;r<5;r++)$("#heat_ul_"+n).append("<li><div class='histogram'><p class='heatMap_names'>"+(r+1)+"、"+e[r]._name+"</p><progress value='"+i[r]+"' max='10' style='float: left'></progress><div class='heat_fontSizes' title='"+e[r]._value+"' >当前:"+e[r]._value+"</div></div><div class='heatMap_images' ><img src='"+e[r]._images+"' /></div><hr /></li>");break;case"HumanForm":if(i.length<=5)for(var r=0;r<i.length;r++)$("#heat_ul_"+n).append("<li><div class='histogram'><p class='heatMap_names'>"+(r+1)+"、"+e[r]._name+"</p><div class='heat_people' style='width:200px;height:50px;float:left;'></div><div class='heat_fontSizes' title='"+e[r]._value+"' style='margin-top: 15px'>当前:"+e[r]._value+"</div></div><div class='heatMap_images'><img src='"+e[r]._images+"' /></div><hr /></li>"),this.showPeopleGrade(i,r,n);else for(var r=0;r<5;r++)$("#heat_ul_"+n).append("<li><div class='histogram'><p class='heatMap_names'>"+(r+1)+"、"+e[r]._name+"</p><div class='heat_people' style='width:200px;height:50px;float:left;'></div><div class='heat_fontSizes' title='"+e[r]._value+"' style='margin-top: 15px'>当前:"+e[r]._value+"</div></div><div class='heatMap_images'><img src='"+e[r]._images+"' /></div><hr /></li>"),this.showPeopleGrade(i,r,n)}},HeatMapView.prototype.showPeopleGrade=function(t,e,a){t[e]>0&&t[e]<2&&$("#heat_ul_"+a+" .heat_people").eq(e).append("<svg style='width: 40px;height:40px'><use xlink:href='#halfMan'></use></svg>"),t[e]>=2&&t[e]<4&&$("#heat_ul_"+a+" .heat_people").eq(e).append("<svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#halfMan'></use></svg>"),t[e]>=4&&t[e]<6&&$("#heat_ul_"+a+" .heat_people").eq(e).append("<svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#halfMan'></use></svg>"),t[e]>=6&&t[e]<8&&$("#heat_ul_"+a+" .heat_people").eq(e).append("<svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#halfMan'></use></svg>"),t[e]>=8&&t[e]<10&&$("#heat_ul_"+a+" .heat_people").eq(e).append("<svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#halfMan'></use></svg>"),10==t[e]&&$("#heat_ul_"+a+" .heat_people").eq(e).append("<svg style='width: 40px;height:40px;'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg>")},HeatMapView.prototype.heatPanelTwo=function(heatMap,init,lastData){init.getDiv().append("<div id='heatmap_floatBox'><ul id='heat_ulId_mid'></ul></div>"),$("#heatmap_floatBox").css({position:"absolute",left:heatMap.getHeatBoxLeft()+"px",top:heatMap.getHeatBoxTop()+"px",border:"1px solid #D9D7D4",overflow:"auto",background:"white",padding:"0px 10px"});var dataLen=eval("("+JSON.stringify(heatMap.getHeatMapData())+")"),numHeight=dataLen.length;numHeight<5?$("#heatmap_floatBox").css("height",100*numHeight):$("#heatmap_floatBox").css("height","500"),this.heatMapPanelDrags();var datanum=[];for(var i in heatMap.getHeatMapData())datanum.push(Number(heatMap.getHeatMapData()[i].getValue()));for(var z=0;z<datanum.length;z++)for(var j=z+1;j<datanum.length;j++){var sort_px=void 0,sort_bx=void 0,heatGrades=void 0;datanum[z]<datanum[j]&&(sort_px=datanum[z],sort_bx=heatMap.getHeatMapData()[z],heatGrades=lastData[z],datanum[z]=datanum[j],heatMap.getHeatMapData()[z]=heatMap.getHeatMapData()[j],lastData[z]=lastData[j],datanum[j]=sort_px,heatMap.getHeatMapData()[j]=sort_bx,lastData[j]=heatGrades)}switch(heatMap.getHeatMpaPanelType()){case"Histogram":if(lastData.length<=5)for(var i=0;i<lastData.length;i++)$("#heat_ulId_mid").append("<li><div class='histogram'><p class='heatMap_names' id='heat_names_"+i+"'></p><progress value='"+lastData[i]+"' max='10' style='float: left'></progress><div class='heat_fontSizes' title='"+heatMap.getHeatMapData()[i].getValue()+"' >当前:"+heatMap.getHeatMapData()[i].getValue()+"</div></div><div class='heatMap_images' id='heat_img_"+i+"'></div><hr /></li>"),void 0==heatMap.getHeatMapData()[i].getName()||""==heatMap.getHeatMapData()[i].getName()?$("#heat_names_"+i).text(i+1+"、"):$("#heat_names_"+i).text(i+1+"、"+heatMap.getHeatMapData()[i].getName()),void 0==heatMap.getHeatMapData()[i].getImages()||""==heatMap.getHeatMapData()[i].getImages()||$("#heat_img_"+i).append("<img src='"+heatMap.getHeatMapData()[i].getImages()+"' />");else for(var i=0;i<5;i++)$("#heat_ulId_mid").append("<li><div class='histogram'><p class='heatMap_names' id='heat_names_"+i+"'></p><progress value='"+lastData[i]+"' max='10' style='float: left'></progress><div class='heat_fontSizes' title='"+heatMap.getHeatMapData()[i].getValue()+"' >当前:"+heatMap.getHeatMapData()[i].getValue()+"</div></div><div class='heatMap_images' id='heat_img_"+i+"'></div><hr /></li>"),void 0==heatMap.getHeatMapData()[i].getName()||""==heatMap.getHeatMapData()[i].getName()?$("#heat_names_"+i).text(i+1+"、"):$("#heat_names_"+i).text(i+1+"、"+heatMap.getHeatMapData()[i].getName()),void 0==heatMap.getHeatMapData()[i].getImages()||""==heatMap.getHeatMapData()[i].getImages()||$("#heat_img_"+i).append("<img src='"+heatMap.getHeatMapData()[i].getImages()+"' />");break;case"HumanForm":if(lastData.length<=5)for(var i=0;i<lastData.length;i++)$("#heat_ulId_mid").append("<li><div class='histogram'><p class='heatMap_names' id='heat_names_"+i+"'>"+(i+1)+"、"+heatMap.getHeatMapData()[i].getName()+"</p><div id='heat_people_"+i+"' style='width:200px;height:50px;float:left;'></div><div class='heat_fontSizes' title='"+heatMap.getHeatMapData()[i].getValue()+"' style='margin-top: 15px'>当前:"+heatMap.getHeatMapData()[i].getValue()+"</div></div><div class='heatMap_images' id='heat_img_"+i+"'></div><hr /></li>"),void 0==heatMap.getHeatMapData()[i].getName()||""==heatMap.getHeatMapData()[i].getName()?$("#heat_names_"+i).text(i+1+"、"):$("#heat_names_"+i).text(i+1+"、"+heatMap.getHeatMapData()[i].getName()),void 0==heatMap.getHeatMapData()[i].getImages()||""==heatMap.getHeatMapData()[i].getImages()||$("#heat_img_"+i).append("<img src='"+heatMap.getHeatMapData()[i].getImages()+"' />"),this.showPeopleTwo(lastData,i);else for(var i=0;i<5;i++)$("#heat_ulId_mid").append("<li><div class='histogram'><p class='heatMap_names' id='heat_names_"+i+"'>"+(i+1)+"、"+heatMap.getHeatMapData()[i].getName()+"</p><div id='heat_people_"+i+"' style='width:200px;height:50px;float:left;'></div><div class='heat_fontSizes' title='"+heatMap.getHeatMapData()[i].getValue()+"' style='margin-top: 15px'>当前:"+heatMap.getHeatMapData()[i].getValue()+"</div></div><div class='heatMap_images' id='heat_img_"+i+"'></div><hr /></li>"),void 0==heatMap.getHeatMapData()[i].getName()||""==heatMap.getHeatMapData()[i].getName()?$("#heat_names_"+i).text(i+1+"、"):$("#heat_names_"+i).text(i+1+"、"+heatMap.getHeatMapData()[i].getName()),void 0==heatMap.getHeatMapData()[i].getImages()||""==heatMap.getHeatMapData()[i].getImages()||$("#heat_img_"+i).append("<img src='"+heatMap.getHeatMapData()[i].getImages()+"' />"),this.showPeopleTwo(lastData,i)}$("ul").css("list-style-type","none"),$("li").css("margin","11px 10px")},HeatMapView.prototype.showPeopleTwo=function(t,e){t[e]>0&&t[e]<2&&$("#heat_people_"+e).append("<svg style='width: 40px;height:40px'><use xlink:href='#halfMan'></use></svg>"),t[e]>=2&&t[e]<4&&$("#heat_people_"+e).append("<svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#halfMan'></use></svg>"),t[e]>=4&&t[e]<6&&$("#heat_people_"+e).append("<svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#halfMan'></use></svg>"),t[e]>=6&&t[e]<8&&$("#heat_people_"+e).append("<svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#halfMan'></use></svg>"),t[e]>=8&&t[e]<10&&$("#heat_people_"+e).append("<svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#halfMan'></use></svg>"),10==t[e]&&$("#heat_people_"+e).append("<svg style='width: 40px;height:40px;'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg><svg style='width: 40px;height:40px'><use xlink:href='#onePeople'></use></svg>")},HeatMapView.prototype.heatMapPanelDrags=function(){var t=document.getElementById("heatmap_floatBox"),e=0,a=0;t.onmousedown=function(i){return e=i.clientX-t.offsetLeft,a=i.clientY-t.offsetTop,document.onmousemove=function(i){t.style.left=i.clientX-e+"px",t.style.top=i.clientY-a+"px"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null},!1}},HeatMapView.prototype.useTwoGrade=function(t,e){var a=[],i=[];for(var n in e)a.push(e[n]._value);var o=t.getHeatMapInterVal(),s=e;if(o.length>10){for(var n=0;n<s.length;n++){t.getHeatMapInterVal()[0][0]==a[n]&&i.push(1);for(var r=0;r<9;r++)t.getHeatMapInterVal()[r][0]<a[n]&&t.getHeatMapInterVal()[r][1]>=a[n]&&i.push(r+1);for(var p=9;p<o.length;p++)t.getHeatMapInterVal()[p][0]<a[n]&&t.getHeatMapInterVal()[p][1]>=a[n]&&i.push(10)}return i}for(var n=0;n<s.length;n++){t.getHeatMapInterVal()[0][0]==a[n]&&i.push(1);for(var r=0;r<o.length;r++)t.getHeatMapInterVal()[r][0]<a[n]&&t.getHeatMapInterVal()[r][1]>=a[n]&&i.push(r+1)}return i},HeatMapView.prototype.useGrade=function(heatMap){var htValue=[],lastData=[];for(var i in heatMap.getHeatMapData())htValue.push(heatMap.getHeatMapData()[i].getValue());var htmInterVal=heatMap.getHeatMapInterVal(),heatDataVal=eval("("+JSON.stringify(heatMap.getHeatMapData())+")");if(htmInterVal.length>10){for(var i=0;i<heatDataVal.length;i++){heatMap.getHeatMapInterVal()[0][0]==htValue[i]&&lastData.push(1);for(var j=0;j<9;j++)heatMap.getHeatMapInterVal()[j][0]<htValue[i]&&heatMap.getHeatMapInterVal()[j][1]>=htValue[i]&&lastData.push(j+1);for(var e=9;e<htmInterVal.length;e++)heatMap.getHeatMapInterVal()[e][0]<htValue[i]&&heatMap.getHeatMapInterVal()[e][1]>=htValue[i]&&lastData.push(10)}return lastData}for(var i=0;i<heatDataVal.length;i++){heatMap.getHeatMapInterVal()[0][0]==htValue[i]&&lastData.push(1);for(var j=0;j<htmInterVal.length;j++)heatMap.getHeatMapInterVal()[j][0]<htValue[i]&&heatMap.getHeatMapInterVal()[j][1]>=htValue[i]&&lastData.push(j+1)}return lastData},HeatMapView.prototype.defaultGrade=function(t){var e=[];if(1==t.length)e=[10];else{var a=[];for(var i in t)a.push(t[i]._value);var n=Number(Math.max.apply(null,a)),o=Number(Math.min.apply(null,a)),s=n-o,r=[];for(var i in t){var p=(t[i]._value-o)/s;r.push(p)}for(var h=0;h<r.length;h++)r[h]>=0&&r[h]<=.1&&e.push(1),r[h]>.1&&r[h]<=.2&&e.push(2),r[h]>.2&&r[h]<=.3&&e.push(3),r[h]>.3&&r[h]<=.4&&e.push(4),r[h]>.4&&r[h]<=.5&&e.push(5),r[h]>.5&&r[h]<=.6&&e.push(6),r[h]>.6&&r[h]<=.7&&e.push(7),r[h]>.7&&r[h]<=.8&&e.push(8),r[h]>.8&&r[h]<=.9&&e.push(9),r[h]>.9&&r[h]<=1&&e.push(10)}return e},HeatMapView.prototype.defaultTwo=function(heatMap){var lastData=[],heatDatas=eval("("+JSON.stringify(heatMap.getHeatMapData())+")");if(1==heatDatas.length)lastData=[10];else{var htValue=[];for(var i in heatMap.getHeatMapData())htValue.push(heatMap.getHeatMapData()[i].getValue());var htValueMax=Number(Math.max.apply(null,htValue)),htValueMin=Number(Math.min.apply(null,htValue)),htValueDiffer=htValueMax-htValueMin,countData=[];for(var i in heatMap.getHeatMapData()){var ms=(heatMap.getHeatMapData()[i].getValue()-htValueMin)/htValueDiffer;countData.push(ms)}for(var e=0;e<countData.length;e++)countData[e]>=0&&countData[e]<=.1&&lastData.push(1),countData[e]>.1&&countData[e]<=.2&&lastData.push(2),countData[e]>.2&&countData[e]<=.3&&lastData.push(3),countData[e]>.3&&countData[e]<=.4&&lastData.push(4),countData[e]>.4&&countData[e]<=.5&&lastData.push(5),countData[e]>.5&&countData[e]<=.6&&lastData.push(6),countData[e]>.6&&countData[e]<=.7&&lastData.push(7),countData[e]>.7&&countData[e]<=.8&&lastData.push(8),countData[e]>.8&&countData[e]<=.9&&lastData.push(9),countData[e]>.9&&countData[e]<=1&&lastData.push(10)}return lastData},HeatMapView.prototype.heatMapLegend=function(t,e){var a=[];for(var i in t)a.push(t[i]._value);var n,o;a.length>1?(n=Number(Math.max.apply(null,a)),o=Number(Math.min.apply(null,a))):(n=Number(Math.max.apply(null,a)),o=Number(0)),$("#heatMap_legends").append("<svg width='100' height='260' class='legendSvg' version='1.1' xmlns='http://www.w3.org/2000/svg'><defs><linearGradient id='grad1' x1='0%' y1='0%' x2='0%' y2='100%'><stop offset='0%' stop-opacity='1' style='stop-color: rgb(255,0,0);'></stop><stop offset='20%' stop-opacity='1' style='stop-color: rgb(255,255,0);'></stop><stop offset='60%' stop-opacity='1' style='stop-color: rgb(0,255,0);'></stop><stop offset='80%' stop-opacity='1' style='stop-color: rgb(0,0,255);'></stop><stop offset='100%' stop-opacity='1' style='stop-color: rgb(230, 255, 255);'></stop></linearGradient></defs><g id='key'><g transform='translate(55,30)' style='font-size: 10px;'><g class='tick' transform='translate(0,0)' style='opacity: 1;'><text>"+n+"</text></g><g class='tick' transform='translate(0,200)' style='opacity: 1;'><text>"+o+"</text></g></g><rect id='keyrect' x='25' y='30' width='20' height='200' fill='url(#grad1)'></rect><title>最大值:"+n+", 最小值:"+o+"</title></g></svg>")},HeatMapView.prototype.heatMapTimeLine=function(t,e){e.getDiv().append("<div id='heat_timeline'></div>"),$("#heat_timeline").css({left:"10px",top:e.getDivHeight()-105}),$("#heat_timeline").append("<ul id='heat_dates'></ul><ul id='startStops'><li><button id='timestart'>开始</button></li><li><button id='timestops'>暂停</button></li></ul>");for(var a=0,i=t.getTimeLine().getTimes();a<i.length;a++){var n=i[a];$("#heat_dates").append("<li><a href='#"+n+"'>"+n+"</a></li>")}},HeatMapView.prototype.setTimeAuto=function(t){function e(){var t=$("#heat_dates").find("a.selected");t.parent().is("li:last-child")?$("#heat_dates li:first-child").find("a").trigger("click"):t.parent().next().find("a").trigger("click")}if($("#heat_dates").length>0){var a=$("#heat_timeline").width(),i=$("#heat_dates li").length,n=$("#heat_dates li").width(),o=null;$("#heat_dates").width(n*i).css("marginLeft",a/2-n/2);var s=parseInt($("#heat_dates").css("marginLeft").substring(0,$("#heat_dates").css("marginLeft").indexOf("px")));$("#heat_dates a").click(function(t){t.preventDefault();var e=$(this).parent().prevAll().length;$("#heat_dates a").removeClass("selected"),$(this).addClass("selected"),$("#heat_dates").animate({marginLeft:s-n*e},{queue:!1,duration:"normal"}),$(".heatmap-canvas").css("display","none"),$(".heatmap-canvas").eq(e).css("display","block"),$(".heatBox").css("display","none"),$(".heatBox").eq(e).css("display","block"),$(".legendSvg").css("display","none"),$(".legendSvg").eq(e).css("display","block")}),$("#heat_dates a").on("click",function(){clearInterval(o),o=setInterval(function(){return e()},t.getTimeLine().getAttoPlaySpace())}),$("#heat_dates li").eq(0).find("a").trigger("click"),clearInterval(o),o=setInterval(function(){return e()},t.getTimeLine().getAttoPlaySpace()),$("#timestart").click(function(){clearInterval(o),o=setInterval(function(){return e()},t.getTimeLine().getAttoPlaySpace())}),$("#timestops").click(function(){clearInterval(o)}),$("#heatmap_Show").click(function(){clearInterval(o),o=setInterval(function(){return e()},t.getTimeLine().getAttoPlaySpace());var a=$(".selected").parent().prevAll().length;$(".heatmap-canvas").eq(a).show(),$("#heatmap_floatBox").show(),$("#heatMap_legends").show(),$("#heat_timeline").show()}),$("#heatmap_hmHide").click(function(){clearInterval(o),$(".heatmap-canvas").hide(),$("#heatmap_floatBox").hide(),$("#heatMap_legends").hide(),$("#heat_timeline").hide()})}},HeatMapView.prototype.heatShowHide=function(t){$("#heatmap_Show").click(function(){$("#heatmap_floatBox").show(),$("#heatMap_legends").show(),$("#heat_timeline").show()}),$("#heatmap_hmHide").click(function(){$(".heatmap-canvas").hide(),$("#heatmap_floatBox").hide(),$("#heatMap_legends").hide(),$("#heat_timeline").hide()})},HeatMapView}();exports.HeatMapView=HeatMapView},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.buildAttr=function(t){return"true"==t.getIsCurve()?d3.svg.line().interpolate("cardinal").tension(.5):d3.svg.line().interpolate("cardinal").tension(1)},t.prototype.buildStyle=function(t){var e={};return e.fill="none",t.getStroke()&&(e.stroke=t.getStroke()),t.getStrokeWidth()&&(e["stroke-width"]=t.getStrokeWidth()),e},t}();e.LineView=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this._map=e,this._init=t}return t.prototype.setDefaultPoint=function(){var t=d3.select("#"+this._init.getDivName()).select("svg");t.append("defs").append("symbol").attr("id","defaultPoint").attr("viewBox","0 0 32 32").append("path").attr("d","M16 0c-5.523 0-10 4.477-10 10 0 10 10 22 10 22s10-12 10-22c0-5.523-4.477-10-10-10zM16 16.125c-3.383 0-6.125-2.742-6.125-6.125s2.742-6.125 6.125-6.125 6.125 2.742 6.125 6.125-2.742 6.125-6.125 6.125zM12.125 10c0-2.14 1.735-3.875 3.875-3.875s3.875 1.735 3.875 3.875c0 2.14-1.735 3.875-3.875 3.875s-3.875-1.735-3.875-3.875z");return t.select("defs").append("symbol").attr("id","xjwifi").attr("viewBox","0 0 600 600").append("g").attr("id","g1").append("g").attr("id","g2").append("path").attr("fill","#E43B29").attr("d","M333.127,271.263l-36.326-0.116l22.046,87.743l-22.046,17.863l-22.038-17.867l22.038-87.739l-36.346,0.116l-79.902,318.121l35.87-0.116l0.122,0.116l0.143-0.116h0.192l0.072-0.204l79.902-64.762l79.778,64.686l0.07,0.28h0.295l0.133,0.116l0.132-0.116l35.787,0.116L333.127,271.263z M255.985,433.659l40.816-33.081l40.814,33.081l4.195,16.672l-44.958,36.439l-45.05-36.505L255.985,433.659z M323.814,378.695l6.29,25.033l-18.596-15.062L323.814,378.695zM282.094,388.667l-18.606,15.074l6.29-25.054L282.094,388.667z M228.778,541.926l15.186-60.448l29.701,24.061L228.778,541.926z M320.008,505.538l29.639-24.015l15.137,60.312L320.008,505.538z"),t.select("#g1").append("g").attr("id","g3").append("path").attr("fill","#A42718").attr("d","M413.048,591.184c-0.002,0-0.005,0-0.007,0l-35.473-0.115c-0.341,0.082-0.696,0.082-1.016-0.007c-0.643-0.054-1.202-0.445-1.475-1.018l-78.225-63.426l-78.419,63.56c-0.299,0.511-0.834,0.847-1.435,0.886c-0.324,0.075-0.667,0.085-0.98,0.005l-35.459,0.115c0,0-0.004,0-0.006,0c-0.553,0-1.076-0.256-1.418-0.691c-0.34-0.438-0.462-1.008-0.326-1.547l79.902-318.121c0.2-0.799,0.917-1.358,1.738-1.362l36.346-0.116c0.002,0,0.004,0,0.006,0l0,0c0.002,0,0.004,0,0.006,0l36.325,0.116c0.822,0.004,1.538,0.563,1.738,1.362l79.921,318.121c0.136,0.539,0.015,1.109-0.326,1.547C414.123,590.928,413.601,591.184,413.048,591.184z M261.859,273.059l-78.996,314.519l33.196-0.107l79.661-64.565c0.663-0.536,1.608-0.534,2.267,0l79.629,64.565l33.122,0.107l-79.014-314.519l-32.612-0.105l21.48,85.499c0.172,0.679-0.068,1.396-0.611,1.835l-22.046,17.863c-0.663,0.539-1.608,0.537-2.267,0l-22.038-17.867c-0.543-0.44-0.783-1.156-0.611-1.836l21.472-85.494L261.859,273.059z M276.789,358.21l20.013,16.227l20.021-16.223l-20.021-79.681L276.789,358.21z M228.778,543.727c-0.334,0-0.671-0.095-0.968-0.283c-0.652-0.417-0.966-1.205-0.776-1.955l15.188-60.448c0.149-0.597,0.593-1.076,1.175-1.27c0.582-0.192,1.224-0.079,1.703,0.31l29.699,24.063c0.421,0.341,0.667,0.855,0.667,1.398s-0.246,1.057-0.667,1.397l-44.887,36.386C229.583,543.59,229.181,543.727,228.778,543.727z M245.025,484.65l-13.186,52.479l38.968-31.588L245.025,484.65zM364.783,543.636c-0.402,0-0.806-0.137-1.134-0.402l-44.775-36.295c-0.421-0.341-0.667-0.854-0.667-1.397s0.246-1.058,0.667-1.398l29.64-24.018c0.479-0.39,1.123-0.503,1.703-0.31c0.582,0.194,1.025,0.673,1.175,1.27l15.136,60.313c0.19,0.752-0.124,1.538-0.776,1.955C365.454,543.541,365.117,543.636,364.783,543.636z M322.865,505.541l38.858,31.499l-13.136-52.342L322.865,505.541z M296.853,488.571c-0.4,0-0.803-0.135-1.133-0.403l-45.05-36.505c-0.545-0.439-0.782-1.158-0.611-1.838l4.183-16.605c0.095-0.378,0.31-0.715,0.611-0.958l40.816-33.081c0.661-0.536,1.606-0.536,2.267,0l40.814,33.081c0.301,0.245,0.516,0.58,0.61,0.958l4.195,16.672c0.171,0.68-0.068,1.397-0.611,1.838l-44.957,36.438C297.656,488.437,297.253,488.571,296.853,488.571z M253.828,449.59l43.025,34.864l42.932-34.798l-3.768-14.978l-39.216-31.784l-39.218,31.784L253.828,449.59z M263.488,405.541c-0.334,0-0.671-0.095-0.968-0.282c-0.652-0.417-0.966-1.204-0.776-1.955l6.291-25.054c0.148-0.597,0.592-1.076,1.174-1.27c0.582-0.192,1.222-0.079,1.703,0.31l12.316,9.979c0.421,0.34,0.667,0.854,0.667,1.397s-0.246,1.057-0.667,1.397l-18.606,15.074C264.293,405.405,263.89,405.541,263.488,405.541z M270.837,381.86l-4.29,17.087l12.688-10.28L270.837,381.86zM330.104,405.531c-0.402,0-0.805-0.137-1.133-0.402l-18.597-15.064c-0.421-0.341-0.667-0.854-0.667-1.397s0.246-1.058,0.667-1.397l12.306-9.972c0.479-0.39,1.121-0.506,1.703-0.31c0.583,0.194,1.026,0.673,1.175,1.27l6.291,25.035c0.189,0.75-0.124,1.538-0.776,1.955C330.775,405.437,330.439,405.531,330.104,405.531z M314.367,388.667l12.678,10.269l-4.289-17.067L314.367,388.667z"),t.select("#xjwifi").append("g").attr("id","g4").append("g").attr("id","g5").append("path").attr("fill","#F3AD3A").attr("d","M268.271,206.371c0,15.746,12.783,28.52,28.53,28.52c15.755,0,28.531-12.774,28.531-28.52c0-15.756-12.775-28.537-28.531-28.537C281.054,177.834,268.271,190.615,268.271,206.371z"),t.select("#g4").append("g").attr("id","g6").append("path").attr("fill","#B55C27").attr("d","M296.801,236.18c-16.443,0-29.819-13.372-29.819-29.809c0-16.445,13.375-29.825,29.819-29.825c16.443,0,29.819,13.379,29.819,29.825C326.62,222.808,313.244,236.18,296.801,236.18z M296.801,179.123c-15.021,0-27.242,12.224-27.242,27.249c0,15.015,12.221,27.232,27.242,27.232s27.243-12.217,27.243-27.232C324.044,191.346,311.822,179.123,296.801,179.123z"),t.select("#xjwifi").append("g").attr("id","xjwifi-g1").attr("opacity","0").append("path").attr("fill","#48BEFE").attr("d","M296.801,21.879c-101.733,0-184.504,82.765-184.504,184.492c0,74.287,44.164,138.416,107.586,167.632l5.873-22.641c-53.518-26.349-90.445-81.421-90.445-144.991c0-89.045,72.439-161.497,161.49-161.497c89.049,0,161.491,72.451,161.491,161.497c0,64.255-37.732,119.861-92.196,145.846l5.843,22.592c64.377-28.836,109.365-93.453,109.365-168.438C481.304,104.644,398.545,21.879,296.801,21.879z"),t.select("#xjwifi-g1").append("path").attr("fill","#48BEFE").attr("d","M435.298,206.371c0-76.37-62.138-138.488-138.497-138.488c-76.359,0-138.486,62.119-138.486,138.488c0,52.835,29.74,98.837,73.374,122.182l5.977-23.029c-33.722-20.194-56.359-57.071-56.359-99.152c0-63.675,51.807-115.484,115.495-115.484c63.666,0,115.485,51.809,115.485,115.484c0,42.765-23.382,80.146-58.027,100.108l5.943,22.954C404.753,306.383,435.298,259.894,435.298,206.371z"),t.select("#xjwifi-g1").append("path").attr("fill","#48BEFE").attr("d","M342.015,259.07l6.218,24.113c24.744-16.623,41.06-44.842,41.06-76.812c0-51.004-41.497-92.48-92.491-92.48s-92.482,41.477-92.482,92.48c0,31.272,15.605,58.938,39.431,75.682l6.301-24.321c-13.954-12.715-22.728-31.034-22.728-51.361c0-38.312,31.167-69.479,69.479-69.479c38.312,0,69.487,31.167,69.487,69.479C366.288,227.431,356.854,246.312,342.015,259.07z"),t.select("#xjwifi-g1").append("animate").attr("attributeName","opacity").attr("attributeType","css").attr("from","0").attr("to","1").attr("begin","0").attr("dur","1s").attr("to","1").attr("repeatCount","indefinite").attr("fill","#freeze"),t.select("defs").append("symbol").attr("id","onePeople").attr("viewBox","0 0 200 200").append("path").attr("fill","#fb441c").attr("d","M129.18,64.621H71.103c-6.348,0-11.498,5.341-11.498,11.936l4.3,49.558l0.125,1.488c0.656,3.578,3.684,6.291,7.322,6.291v0.01h2.252c0.102-0.01,0.215-0.01,0.316-0.01c0.113,0,0.215,0,0.317,0.01c2.365,0.154,4.278,2.02,4.601,4.412c0.04,0.229,0.05,0.451,0.062,0.68l3.983,51.924l0.09,1.16c0.561,3.695,3.644,6.527,7.356,6.527h19.646c3.655,0,6.699-2.744,7.321-6.363l0.113-1.496l3.983-51.83c0-0.174,0.021-0.34,0.045-0.504c0.295-2.445,2.229-4.354,4.605-4.51c0.113-0.01,0.215-0.01,0.322-0.01s0.209,0,0.316,0.01h2.219v-0.01c3.724,0,6.813-2.849,7.36-6.558c0.007-0.024,0.007-0.058,0.013-0.091l0.067-0.764l4.328-49.927C140.672,69.962,135.529,64.621,129.18,64.621z"),t.select("#onePeople").append("path").attr("fill","#fb441c").attr("d","M100.142,54.51c14.043,0,25.439-11.832,25.439-26.419c0-14.59-11.396-26.424-25.439-26.424c-14.044,0-25.429,11.834-25.429,26.424C74.713,42.678,86.097,54.51,100.142,54.51z"),t.select("defs").append("symbol").attr("id","halfMan").attr("viewBox","0 0 200 200").append("path").attr("fill","#fb441c").attr("d","M100.5,64.484H71.111c-6.348,0-11.498,5.341-11.498,11.936l4.3,49.559l0.125,1.487c0.656,3.579,3.683,6.292,7.322,6.292v0.01h2.252c0.102-0.01,0.215-0.01,0.316-0.01c0.113,0,0.215,0,0.317,0.01c2.365,0.154,4.278,2.02,4.601,4.412c0.039,0.229,0.051,0.45,0.063,0.68l3.982,51.924l0.091,1.16c0.561,3.695,3.644,6.526,7.356,6.526H100.5L100.5,64.484z"),t.select("#halfMan").append("path").attr("fill","#fb441c").attr("d","M100.15,54.373V1.53c-14.043,0-25.428,11.834-25.428,26.424C74.722,42.542,86.106,54.373,100.15,54.373z"),t},t.prototype.setMapCenter=function(){var t=this._init.getDivWidth()/2,e=this._init.getDivHeight()/2,a=(this._map.getCentosLng()-t).toFixed(2),i=(this._map.getCentosLat()-e).toFixed(2),n=d3.select("#"+this._init.getDivName()).select("svg"),o=n.attr("viewBox").split(" ");o[0]=a.toString(),o[1]=i.toString(),n.attr("viewBox",o.join(" "))},t.prototype.CustomDrag=function(){function t(){i.attr("transform","translate("+d3.event.translate+")")}var e=d3.behavior.zoom().scaleExtent([1,1]).on("zoom",t),a=d3.select("#zooms").call(e),i=a.select("#drags")},t.prototype.CustomZooms=function(){function t(){i.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}var e=d3.behavior.zoom().scaleExtent([1,10]).on("zoom",t),a=d3.select("#zooms").call(e).on("dblclick.zoom",null),i=a.select("#drags")},t}();e.MapView=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var a=e.getPanelData().length,i=2*Math.PI/a;console.log(i);var n=d3.range(a).map(function(t){return{x:e.getLng()+e.getDistance()*Math.sin(i*t),y:e.getLag()+e.getDistance()*Math.cos(i*t)}}),o=t.selectAll("g").data(n).enter().append("g").attr("transform",function(){return"translate("+(e.getLng()+7.71)+","+(e.getLag()+21.03)+")"}).style("display","none");o.append("circle").attr({r:e.getCircleR()}).style({fill:function(t,a){return e.getPanelFill()[a]}});var s=o.append("text").attr("x",0);s.append("tspan").text(function(t,a){return e.getPanelData()[a]}).attr({dy:"0em",x:s.attr("x")}).style({fill:e.getFontColor(),"text-anchor":e.getTextAnchor(),"font-size":e.getFontSize(),"font-weight":e.getFontWeight(),"font-family":e.getFontFamily()}),o.transition().delay(function(t,e){return 100*e}).duration(300).ease("bounce").attr("transform",function(t,e){return"translate("+t.x+","+t.y+")"}).style("display","block")}return t}();e.CirclePanelView=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var a=this.dataSet(e.getPanelData()),i=d3.layout.pie().value(function(t){return t[1]}),n=i(a),o=d3.svg.arc().innerRadius(Number(e.getInnerRadius())).outerRadius(Number(e.getOuterRadius())),s=t.selectAll("g").data(n).enter().append("g").attr("transform","translate(0,0)");s.append("path").attr("fill",function(t,a){return e.getPanelFill()[a]}).attr("d",function(t){return o(t)});var r=s.append("text").attr("transform",function(t){return"translate("+o.centroid(t)[0]+","+(o.centroid(t)[1]-15)+")"}).attr("x",0).attr("text-anchor",e.getTextAnchor());r.append("tspan").attr({dy:"1em",x:r.attr("x")}).text(function(t,e){return a[e][0]}).style({fill:e.getFontColor(),"font-size":e.getFontSize(),"font-weight":e.getFontWeight(),"font-family":e.getFontFamily()})}return t.prototype.dataSet=function(t){for(var e=[],a=0,i=t;a<i.length;a++){var n=i[a],o=[];o.push(n),o.push(1),e.push(o)}return e},t}();e.SectorPanelView=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.CustomPointStyleBuild=function(t){var e={};return e["xlink:href"]=t.getPointPath(),e.transform=function(e,a,i,n){return"translate("+(Number(e)-Number(i)-t.getWidth()/2)+","+(Number(a)-Number(n)-t.getHeight())+")"}(t.getLng(),t.getLat(),t.getLeft(),t.getTop()),t.getFill()&&(e.fill=t.getFill()),t.getWidth()&&(e.width=t.getWidth()),t.getHeight()&&(e.height=t.getHeight()),t.getId()&&(e.id=t.getId()),t.getOpacity()&&(e.opacity=t.getOpacity()),e},t}();e.PointView=i}])});